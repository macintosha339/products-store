(this["webpackJsonpproduct-store"]=this["webpackJsonpproduct-store"]||[]).push([[0],{184:function(e,t,c){},264:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),a=c(34),i=c.n(a),s=c(38),o=c(23),u=c(268),l=(c(184),c(6));function d(){return Object(l.jsx)(u.a,{className:"site-page-header",title:"Products store",subTitle:"Application for working with products"})}var j=c(265),b=c(267),p=c(174),O=c(270),h=c(274),f=c(50),x=c(31),m=c(44),y=c.n(m),g=c(59),v="PRODUCT/FETCH_PRODUCTS",P="APP/SHOW_LOADER",D="APP/HIDE_LOADER",C="PRODUCT/FETCH_SINGLE_PRODUCT",T="PRODUCT/ADD_SINGLE_PRODUCT",w="PRODUCT/ADD_PUBLISHED_PRODUCT",S="PRODUCT/SHOW_PUBLISHED",E="PRODUCT/SHOW_ALL",I="PRODUCT/GET_DATE",k="PRODUCT/UPDATE_PRODUCT",_="PRODUCT/UPDATE_PUBLISHED_PRODUCT",A="PRODUCT/DELETE_PRODUCT",U="PRODUCT/DELETE_PUBLISHED_PRODUCT";var L=function(){var e=Object(o.g)(),t=Object(x.b)();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j.a,{orientation:"left",children:"Form for creating product"}),Object(l.jsxs)(b.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",onFinish:function(c){var r=c.product,n=r.title,a=r.price,i=r.description,s=r.published;t(function(e,t,c,r){return function(){var n=Object(g.a)(y.a.mark((function n(a){var i,s,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://fakestoreapi.com/products",{method:"POST",body:JSON.stringify({title:e,price:t,description:c,published:r})});case 2:return i=n.sent,n.next=5,i.json();case 5:s=n.sent,o=Date.now(),a({type:T,payload:{id:s.id,title:e,price:t,description:c,published:r?"+":"",date:o}}),r&&a({type:w,payload:{id:s.id,title:e,price:t,description:c,published:r?"+":"",date:o}});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,a,i,s)),e("/products")},validateMessages:{required:"${label} is required!",types:{number:"${label} is not a valid number!"}},children:[Object(l.jsx)(b.a.Item,{name:["product","title"],label:"Title",rules:[{required:!0}],children:Object(l.jsx)(p.a,{})}),Object(l.jsx)(b.a.Item,{name:["product","price"],label:"Price $",rules:[{required:!0,type:"number",min:0}],children:Object(l.jsx)(O.a,{})}),Object(l.jsx)(b.a.Item,{name:["product","description"],label:"Description",rules:[{required:!0}],children:Object(l.jsx)(p.a.TextArea,{})}),Object(l.jsx)(b.a.Item,{name:["product","published"],label:"Published",valuePropName:"checked",children:Object(l.jsx)(h.a,{})}),Object(l.jsxs)(b.a.Item,{wrapperCol:{span:14,offset:4},children:[Object(l.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(l.jsx)(s.b,{to:"/products",children:Object(l.jsx)(f.a,{type:"dashed",style:{marginLeft:"16px"},children:"Back to products"})})]})]})]})};c(113);var R=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(L,{})]})},F=c(151),N=c(272),B=c(128),H=c(275),q=c(269);function z(){return{type:P}}function $(){return{type:D}}var M=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(c){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(z()),t.next=3,fetch("https://fakestoreapi.com/products".concat(e));case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,setTimeout((function(){c({type:v,payload:n}),c($())}),500);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=N.a.Meta,V={textAlign:"center"};function G(){var e=Object(o.f)(),t=Object(x.b)();Object(r.useEffect)((function(){t(M("?limit=8"))}),[]);var c=Object(x.c)((function(e){return e.products.fetchedProducts}));return Object(x.c)((function(e){return e.app.loading}))?Object(l.jsx)(B.a,{size:"large"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j.a,{orientation:"left",children:"List of fetched products"}),Object(l.jsx)(H.b,{grid:{gutter:32,xs:1,sm:2,md:3,lg:3,xl:3,xxl:3},dataSource:c,renderItem:function(t){return Object(l.jsx)(H.b.Item,{width:300,children:Object(l.jsxs)(N.a,{size:"small",title:t.title,extra:Object(l.jsx)(s.b,{to:"".concat(e.pathname,"/").concat(t.id),children:"More"}),children:[Object(l.jsx)("div",{style:V,children:Object(l.jsx)(q.a,{height:200,src:t.image})}),Object(l.jsx)(J,{title:"Price",style:V}),Object(l.jsx)("div",{style:V,children:"".concat(t.price," $")})]})})}})]})}var W=c(27),X=c(45),K=c(276),Q=c(271),Y=c(266),Z=c(277),ee=function(e){return{type:I,payload:e}},te=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(c){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://fakestoreapi.com/products/6",{method:"DELETE"});case 2:return r=t.sent,c({type:A,payload:{date:e}}),c({type:U,payload:{date:e}}),t.next=7,r.json();case 7:n=t.sent,console.log(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=c(171),re=c.n(ce),ne=c(96);function ae(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.products.products})),c=Object(x.c)((function(e){return e.products.publishedProducts})),n=Object(x.c)((function(e){return e.products.showPublished})),a=Object(x.c)((function(e){return e.products.getDate})),i=Object(r.useState)(!1),o=Object(X.a)(i,2),u=o[0],d=o[1],b=Object(r.useState)(""),O=Object(X.a)(b,2),h=O[0],m=O[1],y=Object(r.useState)(""),g=Object(X.a)(y,2),v=g[0],P=g[1],D=function(){e(te(a)),d(!1)},C=function(){d(!1)},T=function(e,t,c){t(),m(e[0]),P(c)},w=null,S=function(e){return{filterDropdown:function(t){var c=t.setSelectedKeys,r=t.selectedKeys,n=t.confirm,a=t.clearFilters;return Object(l.jsxs)("div",{style:{padding:8},children:[Object(l.jsx)(p.a,{ref:function(e){w=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return c(e.target.value?[e.target.value]:[])},onPressEnter:function(){return T(r,n,e)},style:{marginBottom:8,display:"block"}}),Object(l.jsxs)(K.b,{children:[Object(l.jsx)(f.a,{type:"primary",onClick:function(){return T(r,n,e)},icon:Object(l.jsx)(ne.a,{}),size:"small",style:{width:90},children:"Search"}),Object(l.jsx)(f.a,{onClick:function(){return function(e){e(),m("")}(a)},size:"small",style:{width:90},children:"Reset"}),Object(l.jsx)(f.a,{type:"link",size:"small",onClick:function(){n({closeDropdown:!1}),m(r[0]),P(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(l.jsx)(ne.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,c){return c[e]?c[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return w.select()}),100)},render:function(t){return v===e?Object(l.jsx)(re.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[h],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},E=[Object(W.a)({title:"Title",dataIndex:"title",key:"title"},S("title")),Object(W.a)({title:"Price $",dataIndex:"price",key:"price",sorter:function(e,t){return e.price-t.price}},S("price")),Object(W.a)({title:"Description",dataIndex:"description",key:"description"},S("description")),{title:"Published",dataIndex:"published",key:"published"},{title:"Actions",dataIndex:"actions",key:"actions",render:function(t,c,r){return Object(l.jsxs)(K.b,{children:[Object(l.jsx)(s.b,{onClick:function(){e(ee(c.date))},to:"/editProduct",children:"Edit"}),Object(l.jsx)(f.a,{type:"primary",onClick:function(){var t;t=c.date,e(ee(t)),d(!0)},danger:!0,children:"Delete"}),Object(l.jsx)(Q.a,{title:"Delete",visible:u,onOk:D,onCancel:C,children:Object(l.jsx)("p",{children:"Are you sure you want to remove the product?"})})]})}}];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(s.b,{to:"/formAdd",children:Object(l.jsx)(f.a,{type:"dashed",size:"large",icon:Object(l.jsx)(Z.a,{}),children:"Add product"})}),Object(l.jsx)(j.a,{orientation:"left",children:"List of created products"}),Object(l.jsx)(Y.a,{dataSource:n?c:t,columns:E,pagination:{pageSize:6}})]})}var ie=c(134);function se(){var e=Object(r.useState)("8 items"),t=Object(X.a)(e,2),c=t[0],n=t[1],a=Object(x.b)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(ie.a.Group,{value:c,onChange:function(e){n(e.target.value),"8 items"===e.target.value?a(M("?limit=8")):"16 items"===e.target.value?a(M("?limit=16")):"all"===e.target.value&&a(M(""))},children:[Object(l.jsx)(ie.a.Button,{value:"8 items",children:"8 items"}),Object(l.jsx)(ie.a.Button,{value:"16 items",children:"16 items"}),Object(l.jsx)(ie.a.Button,{value:"all",children:"All items"})]})})}var oe=F.a.TabPane;function ue(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.products.showPublished}));return Object(l.jsxs)(F.a,{defaultActiveKey:"1",centered:!0,children:[Object(l.jsxs)(oe,{tab:"Fetched products",children:[Object(l.jsx)(se,{}),Object(l.jsx)(G,{})]},"1"),Object(l.jsx)(oe,{tab:Object(l.jsxs)(l.Fragment,{children:["Form products",Object(l.jsx)(h.a,{checkedChildren:"show all products",unCheckedChildren:"show only published",checked:!!t,style:{marginLeft:"16px"},onClick:function(t){e(t?{type:S}:{type:E})}})]}),children:Object(l.jsx)(ae,{})},"2")]})}var le=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(ue,{})]})},de=c(273),je=N.a.Meta;function be(){var e,t=Object(o.f)(),c=Object(x.b)();Object(r.useEffect)((function(){var e;c((e=t.pathname,function(){var t=Object(g.a)(y.a.mark((function t(c){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(z()),t.next=3,fetch("https://fakestoreapi.com".concat(e));case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,setTimeout((function(){c({type:C,payload:n}),c($())}),500);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]);var n=Object(x.c)((function(e){return e.products.productInfo}));return Object(x.c)((function(e){return e.app.loading}))?Object(l.jsx)(B.a,{size:"large"}):Object(l.jsxs)("div",{style:{margin:"0 auto",marginTop:"16px",width:"600px",textAlign:"center"},children:[Object(l.jsx)(s.b,{to:"/products",children:Object(l.jsx)(f.a,{type:"dashed",style:{marginBottom:"16px"},children:"Back to products"})}),Object(l.jsxs)(N.a,{hoverable:!0,style:{width:600},cover:Object(l.jsx)(q.a,{src:n.image,width:250}),children:[Object(l.jsxs)(de.b,{title:"Product Info",column:1,children:[Object(l.jsx)(de.b.Item,{label:"Title",children:n.title}),Object(l.jsx)(de.b.Item,{label:"Category",children:n.category}),Object(l.jsxs)(de.b.Item,{label:"Price",children:[n.price," $"]}),Object(l.jsxs)(de.b.Item,{label:"Rating",children:[null===(e=n.rating)||void 0===e?void 0:e.rate," stars"]})]}),Object(l.jsx)(je,{style:{textAlign:"left"},description:n.description})]})]})}var pe=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(be,{})]})};var Oe=function(){var e,t,c,n,a=Object(o.g)(),i=Object(x.b)(),u=Object(x.c)((function(e){return e.products.getDate})),d=Object(x.c)((function(e){return e.products.products.filter((function(e){return u===e.date}))})),j=Object(r.useState)(!1),m=Object(X.a)(j,2),v=m[0],P=m[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(b.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",onFinish:function(e){var t=e.product,c=t.title,r=t.price,n=t.description,s=t.published;i(function(e,t,c,r){return function(){var n=Object(g.a)(y.a.mark((function n(a){var i,s;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://fakestoreapi.com/products",{method:"PUT",body:JSON.stringify({title:e,price:t,description:c,published:r})});case 2:return i=n.sent,a({type:k,payload:{title:e,price:t,description:c,published:r?"+":"",date:Date.now()}}),a({type:_,payload:{title:e,price:t,description:c,published:r?"+":"",date:Date.now()}}),n.next=7,i.json();case 7:s=n.sent,console.log(s);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,r,n,s)),a("/products")},validateMessages:{required:"${label} is required!",types:{number:"${label} is not a valid number!"}},children:[Object(l.jsx)(b.a.Item,{name:["product","title"],label:"Title",rules:[{required:!0}],children:Object(l.jsx)(p.a,{defaultValue:null===(e=d[0])||void 0===e?void 0:e.title})}),Object(l.jsx)(b.a.Item,{name:["product","price"],label:"Price $",rules:[{required:!0,type:"number",min:0}],children:Object(l.jsx)(O.a,{defaultValue:null===(t=d[0])||void 0===t?void 0:t.price})}),Object(l.jsx)(b.a.Item,{name:["product","description"],label:"Description",rules:[{required:!0}],children:Object(l.jsx)(p.a.TextArea,{defaultValue:null===(c=d[0])||void 0===c?void 0:c.description})}),Object(l.jsx)(b.a.Item,{name:["product","published"],label:"Published",valuePropName:"checked",children:Object(l.jsx)(h.a,{defaultChecked:null===(n=d[0])||void 0===n?void 0:n.published})}),Object(l.jsxs)(b.a.Item,{wrapperCol:{span:14,offset:4},children:[Object(l.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Submit"}),Object(l.jsx)(f.a,{type:"primary",onClick:function(){P(!0)},style:{marginLeft:"16px"},danger:!0,children:"Delete product"}),Object(l.jsx)(Q.a,{title:"Delete",visible:v,onOk:function(){i(te(u)),P(!1),a("/products")},onCancel:function(){P(!1)},children:Object(l.jsx)("p",{children:"Are you sure you want to remove the product?"})}),Object(l.jsx)(s.b,{to:"/products",children:Object(l.jsx)(f.a,{type:"dashed",style:{marginLeft:"16px"},children:"Back to products"})})]})]})})};var he=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(j.a,{orientation:"left",children:"Product edit form"}),Object(l.jsx)(Oe,{})]})};var fe=function(){return Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/products",element:Object(l.jsx)(le,{})}),Object(l.jsx)(o.b,{path:"/products/:id",element:Object(l.jsx)(pe,{})}),Object(l.jsx)(o.b,{path:"/formAdd",element:Object(l.jsx)(R,{})}),Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(o.a,{replace:!0,to:"/products"})}),Object(l.jsx)(o.b,{path:"/editProduct",element:Object(l.jsx)(he,{})})]})},xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,278)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),r(e),n(e),a(e),i(e)}))},me=c(97),ye={loading:!1},ge=c(153),ve={products:[],fetchedProducts:[],productInfo:[],publishedProducts:[],showPublished:!1,getDate:null},Pe=Object(me.b)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(W.a)(Object(W.a)({},e),{},{fetchedProducts:t.payload});case C:return Object(W.a)(Object(W.a)({},e),{},{productInfo:t.payload});case T:return Object(W.a)(Object(W.a)({},e),{},{products:[].concat(Object(ge.a)(e.products),[t.payload])});case w:return Object(W.a)(Object(W.a)({},e),{},{publishedProducts:[].concat(Object(ge.a)(e.publishedProducts),[t.payload])});case S:return Object(W.a)(Object(W.a)({},e),{},{showPublished:!0});case E:return Object(W.a)(Object(W.a)({},e),{},{showPublished:!1});case I:return Object(W.a)(Object(W.a)({},e),{},{getDate:t.payload});case k:return Object(W.a)(Object(W.a)({},e),{},{products:e.products.map((function(c){return c.date===e.getDate?t.payload:c}))});case _:return Object(W.a)(Object(W.a)({},e),{},{publishedProducts:e.products.filter((function(e){return"+"===e.published}))});case A:return Object(W.a)(Object(W.a)({},e),{},{products:e.products.filter((function(t){return e.getDate!==t.date}))});case U:return Object(W.a)(Object(W.a)({},e),{},{publishedProducts:e.publishedProducts.filter((function(t){return e.getDate!==t.date}))});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(W.a)(Object(W.a)({},e),{},{loading:!0});case D:return Object(W.a)(Object(W.a)({},e),{},{loading:!1});default:return e}}}),De=c(172),Ce=localStorage.getItem("redux-store")?JSON.parse(localStorage.getItem("redux-store")):{},Te=Object(me.d)(Pe,Ce,Object(me.c)(Object(me.a)(De.a),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()));Te.subscribe((function(){localStorage.setItem("redux-store",JSON.stringify(Te.getState()))})),i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(s.a,{children:Object(l.jsx)(x.a,{store:Te,children:Object(l.jsx)(fe,{})})})}),document.getElementById("root")),xe()}},[[264,1,2]]]);
//# sourceMappingURL=main.b4efbe52.chunk.js.map